<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>ABC iView Desktop - Using Adobe AIR to wrap your Web Application as a cross-platform Desktop Application</title>

    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!--Responsive Meta Tags-->
    <meta name="HandheldFriendly" content="True"/>
    <meta name="MobileOptimized" content="320"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!--Bing search engine validation-->
    <meta name="msvalidate.01" content="C6990C0351F7B20ED3C944A3BB3BECD9"/>

    <!--Styles, change style.css-->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="../../vendor/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Poly|Roboto:400,700,300|Roboto+Condensed' rel='stylesheet' type="text/css">
    <link rel="stylesheet" type="text/css" href="../../css/style.css"/>
    <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/googlecode.min.css">
    <style>
        #themecover_mobileworking_willsong {
            background: url(../../img/background.png) repeat-y;
            background-size: 100%;
            height: 100%;
            left: 0;
            position: fixed;
            top: 30px;
            width: 100%;
            z-index: -100;
        }
    </style>

    <!--Scripts-->
    <script src="//code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>


    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../../favicon.ico">
</head>
<div id="themecover_mobileworking_willsong"></div>
	<!-- Fixed navbar -->
    <nav id="mainnav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a id="blogname_willsong" class="navbar-brand" href="../../">
            aruizca&#x27;s blog = brain.collect {stuff -&gt; post(stuff)}
          </a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
<header id="indexhead_willsong">
    <div id="description_willsong" class="respowidth_willsong">
        <h3>- For anything that is worth writing in more than 140 characters -</h3>

        <h3>For everything else follow me <a href="https://twitter.com/aruizca" target="_twitter">@aruizca <i class="fa fa-twitter fa-lg"></i></a></h3>
    </div>
</header>
<section id="main_willsong" role="main">
	<article id="thearticle_willsong" class="respowidth_willsong" role="article" itemscope
			 itemtype="http://schema.org/Article">
		<h2 class="posttitle_willsong" itemprop="headline">ABC iView Desktop - Using Adobe AIR to wrap your Web Application as a cross-platform Desktop Application</h2>

		<div class="articledetails_willsong">

			<i class="fa fa-clock-o fa-lg"></i><span><time class="date_willsong" datetime="28 January 2014" itemprop="datePublished">28 January 2014</time></span>
			<i class="fa fa-user fa-lg"></i><span>Angel Ruiz</span>
			<i class="fa fa-tag fa-lg"></i><span>adobe-air, desktop, web-apps</span>
		</div>

		<div class="postcontent_willsong">
			<p><img src="blog/2014/img/adobe-air-logo.png" alt="Adobe Air logo"></p> 
<h2>What is it?</h2> 
<p>I have known about the <a href="https://get.adobe.com/air/">Adobe AIR runtime</a> and its concept for quite a long time, which were initially introduced back in 2007. It was an attempt to bridge the existing gap between the desktop and browser based apps, keeping as many of their respective advantages as possible.</p> 
<p>For what I know, basically there are two ways of using Adobe AIR:</p> 
<ol> 
 <li>You can develop an application using web technologies like HTML or Flash/<a href="http://www.adobe.com/au/products/flex.html">Flex</a> expecifically targeting this distribution platform, or</li> 
 <li>You can develop your web application as usual and then wrap it around this "envelope".</li> 
</ol> 
<p>Probably, the most important Abobe Air application to ever exist using the first approach was the version of <strong>Tweetdeck</strong> that existed before it was adquired by Twitter and decided to replace it with a worse native implementation IMO, with less features and "heavier". It sort of works, but since Twitter changed their APIs, it does not retrieve any messages. If you want to try the last version (0.38.2) anyway click <a href="https://dl.dropboxusercontent.com/u/8256463/blog-files/TweetDeck_0_38.2.air"><strong>here</strong></a>.</p> 
<p>Another instance I normally use is a little application called <a href="http://code.google.com/p/pomodairo/">"Pomodairo"</a>. It aims to replace the physical timer for those who use the <a href="http://pomodorotechnique.com/">"Pomodoro Technique"</a> to increase their productivity. A more well know app built in Adobe Air would be the prototyping tool called <a href="http://balsamiq.com/download/">balsamiq</a>.</p> 
<p>The second approach, which is the one covered in this post, is the easiest.<br> The first time I thought about it was when I tried to use <a href="https://trello.com/">Trello</a>. Given the way I work or how my brain works, or both, somehow I found it cumbersome to have it opened in one tab of my browser and then I thought that maybe someone felt the same way and used Adobe Air to wrap it. <a href="https://trello.com/" target="_blank"><img src="/content/images/trello-logo.png" class="left img-responsive" alt="trello homepage"></a>That is the moment when I came acroos <a href="http://trellodesktop.com/">TrelloDesktop</a> (<strong>Note</strong>: Sign-in page not working at the time of writing this article).</p> 
<div> 
 <p>There are some other examples like <a href="http://www.robertnyman.com/gmdesk/" target="_blank">GMDesk</a> to run GMail, Google Calendar, Docs and Maps as a desktop application. You also have <a href="http://www.robertnyman.com/facedesk/" target="_blank">FaceDesk</a> to do the same with Facebook and many others.</p> 
 <p><a name="linux-support-info"></a></p> 
 <p></p> 
 <div class="alert alert-warning"> <i class="fa fa-exclamation-triangle fa-fw"></i> <strong>Important note!!</strong>
  <br> After finishing this post, I realized that <strong>Adobe Air does not support Linux anymore</strong> as you can see in their <a href="http://www.adobe.com/products/air/tech-specs.html" target="_blank">system requirements page</a>. According to Adobe, they decided to drop Linux support after version 2.6 due to little demand from this platform and in order to shift more efforts to Phonegap. Personally I think that complete cross-platform compatibility was its main competitive advantage. You can check their <a href="http://www.adobe.com/au/products/air/faq.html#linux" target="_blank">FAQ</a> reagarding this matter. I understand that this is a kind a deal breaker for many :-( The only viable alternative is to use Adobe Air on Linux is to use <a href="http://appdb.winehq.org/objectManager.php?sClass=application&amp;iId=5842" target="_blank">Wine</a>. There is no problem too big with a bit of wine XDD 
 </div> 
 <h2>Why did I use it?</h2> 
 <p>As you can see, the main scenario where an approach like this could be interesting is to wrap <a href="http://en.wikipedia.org/wiki/Single-page_application">SPI (Single Page Interface) applications</a>. It is of course a matter of personal preference as there is not a clear advantage of doing this unless, like me you agree with these points:</p> 
 <ul> 
  <li>In a browser is not very easy to switch to the right tab using the keyboard.</li> 
  <li>From time to time your browser instance is closed either by accident or a crash.</li> 
  <li>With the advent of mobile apps it happens that an SPI app sometimes feels like it is more convenient as a desktop app without the browser menus, url bars and back and forth buttons issues.</li> 
 </ul> 
 <p>I got into creating my own desktop application using Adobe Air as I was trying to watch one of the <a href="http://en.wikipedia.org/wiki/Grand_Designs">"Kevin McCloud's Grand Designs"</a> episodes using the ABC iView web application, which is a Flash App. There I thought I'd rather have this as a separate app as it should not be very difficult using this platform. So next I am going to put the steps I followed to create my own cross platform "ABC iView Destop" app, although <strong>it would apply to any app you'd like to wrap</strong>.</p> 
 <h2>Steps:</h2> 
 <h3>1. Download Adobe Air SDK</h3> 
 <p>It can be downloaded from the following <a href="http://www.adobe.com/devnet/air/air-sdk-download.html">link</a>. At the time of writing this post, the available version of the runtime was the <strong>4.0</strong>).</p> 
 <h3>2. Install Adobe Air SDK</h3> 
 <p>It is as easy as unzipping the previous downloaded file in a location of your choice and then add the path to the SDK <code>/bin</code> folder to your <code>PATH</code> system variable.</p> 
 <h3>3. Create Air application description</h3> 
 <p>Firt of all we create an xml file with the name of our choice. In this instance I called it <code>application.xml</code>.</p> 
 <p>This file will contain the basic properties of our application. To know more about the available elements have a look at this <a href="http://help.adobe.com/en_US/air/build/WS2d929364fa0b81374fa5df4f129dca62884-8000.html">document about setting application properties</a> and at the <a href="http://help.adobe.com/en_US/air/build/WS5b3ccc516d4fbf351e63e3d118666ade46-7ff1.html"><strong>the reference guide</strong></a>.</p> 
 <p>Next there is the application description for the iView-Desktop app:</p> 
 <pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;application xmlns="http://ns.adobe.com/air/application/3.7"&gt;
	&lt;id&gt;iViewDesktop&lt;/id&gt;
	&lt;name&gt;iView - Desktop&lt;/name&gt;
	&lt;filename&gt;iViewDesktop&lt;/filename&gt;
	&lt;versionNumber&gt;1.0.0&lt;/versionNumber&gt;
	&lt;installFolder&gt;iView-Desktop&lt;/installFolder&gt;
	&lt;initialWindow&gt;
		&lt;title&gt;iView - Desktop&lt;/title&gt;
		&lt;content&gt;redirect.html&lt;/content&gt;
		&lt;systemChrome&gt;standard&lt;/systemChrome&gt;
		&lt;transparent&gt;false&lt;/transparent&gt;
		&lt;visible&gt;true&lt;/visible&gt;
		&lt;resizable&gt;true&lt;/resizable&gt; 
		&lt;renderMode&gt;direct&lt;/renderMode&gt;
		&lt;aspectRatio&gt;landscape&lt;/aspectRatio&gt; 
		&lt;autoOrients&gt;true&lt;/autoOrients&gt;
		&lt;width&gt;1024&lt;/width&gt;	
		&lt;height&gt;768&lt;/height&gt;	
	&lt;/initialWindow&gt;
    &lt;icon&gt;
        &lt;image16x16&gt;icons/iview-16x16.png&lt;/image16x16&gt;
        &lt;image32x32&gt;icons/iview-32x32.png&lt;/image32x32&gt;
        &lt;image48x48&gt;icons/iview-48x48.png&lt;/image48x48&gt;
        &lt;image128x128&gt;icons/iview-48x48.png&lt;/image128x128&gt;
    &lt;/icon&gt;
&lt;/application&gt;
</code></pre> 
 <p>As you can appreciate the <a href="http://help.adobe.com/en_US/air/build/WSfffb011ac560372f2fea1812938a6e463-8000.html#WSfffb011ac560372f2fea1812938a6e463-7ff4">initialWindow -&gt; content node</a> is the most important property, as it contains the URL relative to the root of the application installation folder. This URL points to the <code>.HTML</code> or <code>.SWF</code> file that contains your app.</p> 
 <h3>4. Point to the web app URL</h3> 
 <p>For this particular case of the ABC iView app I though it would be enough to download the '.SWF' file and reference it in the content property. For some reason I don't know it did not work. So at the end, I just created a HTML file that contains a script with a redirection to the iView URL:</p> 
 <pre><code>&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;

  &lt;script src="AIRUpdater-1.0.js"&gt;&lt;/script&gt; 
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
  window.location.replace("http://www.abc.net.au/iview");  
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>Just replacing the URL you can pretty much load any web application you want.</p> 
 <h3>5. Integrate an automatic upgrade mechanism (optional)</h3> 
 <p>This step is optional but recommended, as it enables the application to be able to check if there is a new version at start up time and install the upgrade almost automatically.</p> 
 <p>There is a project called <a href="http://code.google.com/p/airupdater/">AirUpdater</a> which provides a sample script to achieve this just by modifying a few URLs, the application name and by following the instricutions included as inline comments. As you can see in the html file above, this script has been customized and included.</p> 
 <h3>6. Checking that your app is working</h3> 
 <p>Using the Adobe Air Debug Launcher (ADL) command-line tool that comes with the SDK, we can run our application without packaging and installation to check that everything is working all right. If the step 1 was performed correctly, you would just need to type in the following command from your project root folder:</p> 
 <p><code>adl application.xml</code></p> 
 <h3>7. Creating some icons (optional)</h3> 
 <p>The icons are used as the application file, shortcut, and program menu icons. The application icon should be supplied as a set of at least 16x16, 32x32, 48x48, and 128x128 pixels PNG images. But more if required can also be specified. If those are not provided the default ones will be used.</p> 
 <p>Specify the path to the icon files <a href="http://help.adobe.com/en_US/air/build/WSfffb011ac560372f2fea1812938a6e463-8000.html#WSfffb011ac560372f2fea1812938a6e463-7ff6">in the icon element of the application descriptor file</a>. Have a look at the application descriptor above to see one example.</p> 
 <h3>8. Generate a digital certificate to sign the installation package (optional)</h3> 
 <p>This step is not optional if you don't have a legit digital certificate.</p> 
 <p>To generate your own certificate just type in the following command making the modifications you consider appropriate.</p> 
 <p><code>adt -certificate -cn mycertificate 1024-RSA mycertificatefile.p12 password</code></p> 
 <h3>9. Package and sign the application</h3> 
 <p>Next is the command I used to generate the <code>.air</code> package.<br> <img src="blog/2014/img/adobe-air-package.png" alt="Adobe Air Package"></p> 
 <p>Please note that all the files that are to be packaged should be explicitly referenced. Otherwise you will get the famous <strong>"<a href="https://www.google.com.au/search?q=error+303%3A+icon+xxx+is+missing+from+package&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a&amp;gfe_rd=cr&amp;ei=phDuUsXVJqeN8Qfz9oHYBQ#q=adobe+air+error+303:+is+missing+from+package&amp;rls=org.mozilla:en-US:official">error 303: icon xxx is missing from package</a>"</strong>.</p> 
 <pre><code>adt -package -storetype pkcs12 -keystore mycertificatefile.p12 iView-Desktop.air application.xml redirect.html AIRUpdater-1.0.js icons\iview128.png icons\iview16.png icons\iview32.png icons\iview48.png
</code></pre> 
 <h3>10. Create launcher page (optional)</h3> 
 <p>To distribute your app you can create a page like the ones used in the apps I put as examples earlier.<br> <a href="http://iview-desktop.aruizca.com/" class="right" target="_blank"><br> <img src="blog/2014/img/iview-desktop-badge.png" alt="iView Desktop"><br> </a></p> 
 <p>In those you can appreciate that they all use a flash component to trigger the installation. This component seamlessly takes care of installing the app and the Adobe Air Runtime if it is not already installed in the system.</p> 
 <p>The installer badge is a flash component usually distributed in the samples included in the SDK, but there is a better resource in this Adobe tutorial:<a href="http://www.adobe.com/devnet/air/articles/badge_for_air.html"><strong>"Getting started with the custom install badge"</strong></a>.</p> 
 <h3>11. App. Installation</h3> 
 <p>Either through the installation badge or just clicking on the .air package generated on step 9 (if you have the Adobe Air runtime already installed), you should be able to install the app and run it. If succesful you should see something like this snapshot:</p> 
 <p><img src="blog/2014/img/iview-desktop-snapshot.png" alt="iView Desktop Snapshot"></p> 
 <h2>Resources summary</h2> 
 <ul> 
  <li><a href="http://iview-desktop.aruizca.com/">ABC iview-desktop app website.</a></li> 
  <li><a href="https://github.com/aruizca/iview-desktop">Source code in GitHub.</a></li> 
  <li><a href="https://get.adobe.com/air/">Adobe Air Runtime.</a></li> 
  <li><a href="http://www.adobe.com/devnet/air/air-sdk-download.html">Adobe Air SDK.</a></li> 
  <li><a href="http://help.adobe.com/en_US/air/build/WSfffb011ac560372f20b57e08128cc91aa2f-8000.html">Guide: "Developing AIR applications for the desktop".</a></li> 
  <li><a href="http://help.adobe.com/en_US/air/build/WS5b3ccc516d4fbf351e63e3d118666ade46-7ff1.html">Adobe Air application descriptor reference guide.</a></li> 
  <li><a href="http://www.adobe.com/devnet/air/articles/badge_for_air.html">Article: "Getting started with the custom install badge".</a></li> 
 </ul> 
</div>
		</div>

		<div id="sharepost_willsong">
			<span>Share this post:</span><br><br>
			<a class="sharelink_willsong" target="_blank"
			   href="http://www.facebook.com/sharer.php?u={{url absolute="true"}}"><i class="fa fa-facebook fa-lg"></i></a>
			<a class="sharelink_willsong" target="_blank"
			   href="http://twitter.com/share?text={{title}}&url={{url absolute="true"}}"><i class="fa fa-twitter fa-lg"></i></a>
			<a class="sharelink_willsong" target="_blank"
			   href="https://plus.google.com/share?url={{url absolute="true"}}"><i class="fa fa-google-plus-square fa-lg"></i></a>
		</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'aruizca'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>	</article>
</section>

	

<footer>
    <!--Social Media -->
    <div id="socialmedia_willsong">
        <a href="https://twitter.com/aruizca" class="sociallink_willsong"><i class="fa fa-twitter fa-lg"></i></a>
        <a href="https://plus.google.com/u/0/+ÁngelRuiz" class="sociallink_willsong"><i class="fa fa-google-plus-square fa-lg"></i></a>
        <a href="http://au.linkedin.com/in/angelruiz/" target="linkedin" class="sociallink_willsong"><i class="fa fa-linkedin fa-lg"></i></a>
        <a href="{{@blog.url}}/rss" target="_rss" class="sociallink_willsong"><i class="fa fa-rss fa-lg"></i></a>
    </div>

    <p id="copyright_willsong">
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">aruizca's blog</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://aruizca.com" property="cc:attributionName" rel="cc:attributionURL">Angel Ruiz Calvo</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        <br/>
        Prowdly powered by <a href="http://ghost.org" target="_blank">Ghost</a>. Look&Feel based on Wilson theme created by <a href="http://marcosn.com" target="_blank">Marcosn.com</a>
    </p>
</footer>

<script src="../../vendor/jquery/jquery.fitvids.js"></script>
<script src="../../vendor/jquery/jquery.appear.js"></script>
<script src="../../js/main.js"></script>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-41135257-3', 'aruizca.com');
    ga('require', 'linkid', 'linkid.js');
    ga('send', 'pageview');

</script>
    
